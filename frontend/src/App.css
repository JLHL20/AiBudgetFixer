@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap');

:root {
  --bg-main: #0a0a0a;
  --bg-secondary: #141414;
  --card-bg: rgba(255, 255, 255, 0.03);
  --border-color: rgba(255, 255, 255, 0.1);
  --text-primary: #fafafa;
  --text-secondary: #a0a0a0;
  --ai-gradient: linear-gradient(90deg, #05331d, #92850f, #03351d, #0c0202);
  --accent-green: #10b90a;
  --accent-white-forButton: #ffffff;
}

body { margin: 0; font-family: 'Inter', sans-serif; background-color: var(--bg-main); color: var(--text-primary); overflow-x: hidden; min-height: 100vh; }
.App { display: flex; justify-content: center; padding: 40px 20px; min-height: 100vh; box-sizing: border-box; position: relative; z-index: 10; }

/* HIDE SPINNERS */
input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
input[type=number] { -moz-appearance: textfield; }

/* PARTICLES */
.particles-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; overflow: hidden; }
.particle { position: absolute; background: var(--accent-green); border-radius: 50%; box-shadow: 0 0 10px var(--accent-green); animation: floatUp infinite linear; }
@keyframes floatUp { 0% { transform: translateY(110vh) scale(0.5); opacity: 0; } 20% { opacity: 0.8; } 80% { opacity: 0.8; } 100% { transform: translateY(-10vh) scale(1.2); opacity: 0; } }

/* CAROUSEL */
.carousel-container { width: 180%; overflow: hidden; mask-image: linear-gradient(to right, transparent, rgb(0, 0, 0) 10%, black 90%, transparent); margin: 40px 0; }
.carousel-track { display: flex; width: max-content; align-items: center; gap: 20px; animation: scroll 35s linear infinite; }
.carousel-item { display: flex; align-items: center; justify-content: center; height: 120px; padding: 0 30px; }
.carousel-logo { height: 90px; width: auto; object-fit: contain; filter: grayscale(100%) opacity(0.7) brightness(0.9); transition: all 0.5s ease; }
.carousel-logo:hover { filter: grayscale(0%) opacity(1) brightness(1); transform: scale(1.1); }
@keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

/* TYPOGRAPHY */
h1.hero-title { font-size: 3.5rem; font-weight: 700; letter-spacing: -0.02em; text-align: center; margin-bottom: 10px; background: linear-gradient(to bottom right, #034714, #45c00d); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
h2 { font-weight: 600; margin-top: 0; text-align: center; }
h3 { margin-top: 0; font-weight: 600; }
.label-small { color: var(--text-secondary); font-size: 0.85rem; font-weight: 500; text-transform: uppercase; letter-spacing: 0.05em; display: block; text-align: center;}
.container-intro { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 70vh; animation: fadeUp 1s ease-out; text-align: center; width: 100%; max-width: 800px; }

/* --- ⚡ KEY LAYOUT FIX ⚡ --- */
.dashboard-layout { 
  width: 100%; 
  max-width: 550px; /* Default: Single Column Centered */
  margin: 0 auto; 
  display: flex; 
  flex-direction: column; 
  gap: 24px; 
  transition: all 0.5s ease;
  animation: fadeInSlow 2s ease-in; 
}

/* When receipt is scanned, expand to full width and split */
.dashboard-layout.has-data { 
  max-width: 1200px; /* Wider container */
  flex-direction: row; 
  align-items: flex-start; /* Align to top */
  justify-content: flex-start; /* Force start from left */
  gap: 40px; 
}

.left-panel { 
  width: 350px; /* Fixed sidebar width */
  flex-shrink: 0; 
  display: flex; 
  flex-direction: column; 
  gap: 20px; 
}

.center-panel { 
  flex-grow: 1; /* Takes remaining space on the right */
  width: 100%;
  animation: fadeInSlow 0.5s ease-out; 
}

/* CARDS & UI */
.card { background: var(--card-bg); border: 4px solid var(--border-color); border-radius: 25px; padding: 24px; backdrop-filter: blur(10px); }

/* CHIPS & CATEGORIES */
.preset-container { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 20px; }
.preset-chip { background: rgba(255, 255, 255, 0.05); border: 1px solid var(--border-color); color: var(--text-secondary); padding: 8px 16px; border-radius: 20px; font-size: 0.9rem; font-weight: 500; cursor: pointer; transition: all 0.2s ease; }
.preset-chip:hover, .preset-chip.active { background: var(--accent-green); color: black; border-color: var(--accent-green); box-shadow: 0 0 15px rgba(16, 185, 10, 0.4); transform: translateY(-2px); }

.category-creator { display: flex; gap: 10px; align-items: center; margin-bottom: 15px; }
.cat-input-name { flex: 2; }
.cat-input-limit { flex: 1; }
.added-categories-list { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-top: 15px; }
.category-pill { background: rgba(16, 185, 10, 0.1); border: 1px solid var(--accent-green); padding: 6px 14px; border-radius: 15px; font-size: 0.9rem; display: flex; align-items: center; gap: 8px; color: #fff; }
.remove-cat { cursor: pointer; color: #ff5252; font-weight: bold; margin-left: 5px; }

/* BUTTONS */
.btn-ai-glow { position: relative; background: var(--bg-secondary); color: var(--accent-white-forButton); padding: 16px 30px; font-size: 1.2rem; font-weight: 700; border: none; border-radius: 12px; cursor: pointer; z-index: 1; overflow: hidden; transition: transform 0.2s; width: 100%; max-width: 250px; letter-spacing: 0.05em; box-shadow: 0 -1px 20px rgba(66, 167, 8, 0.795); display: block; margin: 30px auto 0 auto; }
.btn-ai-glow::before { content: ''; position: absolute; top: -3px; left: -3px; right: -3px; bottom: -3px; z-index: -1; background: var(--ai-gradient); background-size: 200% 200%; border-radius: 14px; animation: shimmerBorder 3s linear infinite; }
.btn-ai-glow::after { content: ''; position: absolute; inset: 3px; background: var(--bg-secondary); border-radius: 10px; z-index: -1; }
.btn-ai-glow:hover { transform: scale(1.05); color: rgb(37, 105, 5); }

.btn-add-plus { background: var(--accent-green); color: black; border: none; width: 45px; height: 45px; border-radius: 12px; font-weight: bold; font-size: 1.8rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.2s; box-shadow: 0 0 10px rgba(16, 185, 10, 0.2); }
.btn-add-plus:hover { transform: scale(1.1); box-shadow: 0 0 15px var(--accent-green); }

/* INPUTS & UTILS */
.input-modern { background: var(--bg-secondary); border: 1px solid var(--border-color); color: var(--text-primary); padding: 16px; border-radius: 12px; width: 100%; font-size: 1.2rem; outline: none; transition: 0.3s; box-sizing: border-box; }
.input-modern:focus { border-color: var(--accent-green); box-shadow: 0 0 0 3px rgba(0, 230, 118, 0.2); }
.budget-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 20px; }
.big-money { font-size: 2.8rem; font-weight: 800; line-height: 1; }
.progress-track { background: rgba(255,255,255,0.05); height: 8px; border-radius: 4px; overflow: hidden; }
.progress-fill { height: 100%; border-radius: 4px; transition: width 1s cubic-bezier(0.4, 0, 0.2, 1); }
.item-row { display: flex; align-items: center; padding: 16px 0; border-bottom: 1px solid var(--border-color); }
.item-icon { width: 48px; height: 48px; background: rgba(255,255,255,0.05); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; margin-right: 16px; overflow: hidden; }
.item-details { flex-grow: 1; }
.item-name { font-weight: 600; font-size: 1.1rem; }
.item-sub { color: var(--text-secondary); font-size: 0.9rem; margin-top: 4px; display: block;}
.item-price { font-weight: 700; font-size: 1.2rem; }

/* --- ITEM ACTIONS --- */
.item-actions {
  display: flex;
  align-items: center;
  margin-left: 15px;
}

.btn-item-add {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid var(--border-color);
  color: var(--accent-green);
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 1.2rem;
  font-weight: bold;
}

.btn-item-add:hover {
  background: var(--accent-green);
  color: black;
  box-shadow: 0 0 10px rgba(16, 185, 10, 0.4);
}

/* --- CATEGORY PICKER MODAL (Glassmorphism) --- */
.modal-overlay {
  position: fixed;
  top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.7); /* Dark Dim Background */
  backdrop-filter: blur(5px);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fadeInSlow 0.3s ease;
}

.modal-content {
  background: #141414;
  border: 1px solid var(--border-color);
  width: 90%;
  max-width: 400px;
  padding: 25px;
  border-radius: 20px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.5);
  text-align: center;
}

.modal-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 20px;
}

.modal-btn-cancel {
  margin-top: 20px;
  background: transparent;
  border: 1px solid #ff5252;
  color: #ff5252;
  padding: 10px 20px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 600;
}
.modal-btn-cancel:hover { background: #ff5252; color: white; }

@keyframes shimmerBorder { 0% { background-position: 0% 50%; } 100% { background-position: 200% 50%; } }
@keyframes fadeUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeInSlow { from { opacity: 0; } to { opacity: 1; } }